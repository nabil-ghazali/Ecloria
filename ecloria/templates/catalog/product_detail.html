{% extends 'base.html' %}

{% block content %}
<div class="card-container">
    <div class="card">
        <h1>{{ product.name }}</h1>

        {% if product.thumbnail %}
            <img src="{{ product.thumbnail.url }}" alt="{{ product.name }}" style="max-width: 400px;">
        {% endif %}

        <p><strong>Prix :</strong> {{ product.price }} €</p>
        <p>{{ product.description }}</p>

        {% if user.is_authenticated %}
            <!-- Bouton Ajouter au panier si connecté -->
            <form action="{% url 'add-to-cart' product.slug %}" method="post" style="display:inline;">
                {% csrf_token %}
                <button type="submit" class="btn-add-cart">Ajouter au panier</button>
            </form>

            <!-- Lien pour voir le panier -->
            <a href="{% url 'cart' %}" class="btn-view-cart">Voir le panier</a>
        {% else %}
            <!-- Bouton qui renvoie vers login si NON connecté -->
            <a href="{% url 'login' %}" class="btn-add-cart">Ajouter au panier</a>
        {% endif %}

        <!-- Retour à la liste des produits -->
        <a href="{% url 'product_list' product.category.id %}" class="btn-back">Retour à la liste des produits</a>
    </div>
</div>
{% endblock %}


